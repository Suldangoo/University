# ■ 9주차 (11월 9일)

# 깃 활용방법 2

### 지난 시간 리뷰

- 로컬 작업공간 : 실제로 작업하는 공간
- 스테이징 영역 : 변경 사항을 스테이징 영역에 추가
- 로컬 리포지토리(.git) : 로컬에 존재하는 리포지토리로 커밋
- 원격 리포지토리(Github) : 로컬의 변경사항을 원격으로 푸쉬

### git commit 취소하기

- git reset
- git reset -hard

## Branch

- git branch
    - 기능 개발, 버그 수정, 실험적 변경 사항 등 독립적인 개발 환경 분리
    - 새로운 브랜지를 생성하거나, 목록을 보여주거나, 삭제할 수 있다.
- 새로운 변경사항을 메인에 다 커밋하면 문제점이 있음
    1. 미완성된 코드가 원격 리포지토리로 올라가는 상황
    2. 의미 단위로 커밋하지 않아 이후 리뷰등에 문제 발생
    - 해결 방안 : branch 사용 : 다른 사용자와의 변경사항이 섞이지 않음.
- git에서 branch의 실체 : 특정 commit을 가리키는 단순한 포인터 역할
- HEAD는 현재 내가 위치한 브랜치를 가리키는 것

### 명령어

- git branch 브랜치명 : 브랜치명의 브랜치 생성
- git branch -l : 현재 브랜치 리스트 출력
- git checkout 브랜치명 : 브랜치 이동
- git checkout -b 생성할 브랜치명, 생성할 브랜치가 가리킬 커밋 : 생성하며 이동

## git merge

- 두 브랜치에서 작업한 내용을 하나로 병합하는 것
- 병합이란 서로 다른 브랜치의 changeset들을 결합하는 새로운 commit을 만드는 것을 의미
- git merge featureA (대상 브랜치 이름)
    - 현재 작업중인 브랜치에 대상이 되는 브랜치의 내용을 머지하는 것
- git branch -D 브랜치 이름 : 브랜치 삭제

### Three-way Merges

- 메인 브랜치와 두 변경사항의 브랜치가 존재할 때
- A브랜치의 내용을 메인에 머지시키면, A브랜치의 커밋이 가장 최근 커밋이 됨
- 총 3개의 포인트가 관여하며, Source의 체인지셋들과 base에서의 Target까지의 체인지셋을 비교하며 병합
- B브랜치의 내용을 메인에 머지하며 새로 생긴 커밋을 가장 최근 커밋과 모두 포함하는 새로운 커밋이 생성

### git log

- git log - -oneline - -graph : 로그를 그래프 형태로 출력
- git log - -oneline - -all : 모든 브랜치의 내용을 출력
- git log - -oneline - -all - -graph : 모든 브랜치 내용을 출력하며 분기를 그래프로 표현

## conflict(컨플릭트, 충돌)

- 머지를 수행하는 과정에서 분기가 발생한 베이스를 기준으로, 특정 파일에 대해 동시에 체인지셋이 있어 깃에 의해 자동으로 머지가 되지 않음.
- 이 부분에선 어떤 변경사항을 선택할지 직접 수작업으로 고쳐야 함.
- 소스코드 파일 내의 line 단위로 비교, 서로 다른 line에서 발생한 변경사항은 컨플릭트가 발생하지 않음
- Fast-Forward에선 이미 전 분기가 포함되어있어 컨플릭트가 발생할 수 없음
- Three-way Merges에선 체인지셋이 각 브랜치에 있어 컨플릭트 발생 가능성 존재
- 두 변경사항을 직접 비교하여 editor를 이용해 수정하고, 원하는 변경사항을 직접 선택해 변경

## rebase와 squash

- 로컬에서 여러 커밋을 하나로 합치고 싶을 때 git merge를 수행하는 명령어
- Rebase and Merge
    - 브랜치에서 작업하는 동안 생성 시점 이후로 메인 브랜치에서의 변경사항이 많고, 버그 수정 등 중요한 내용이 메인 브랜치에 반영되었을 때 사용하는 머지
    - 메인 브랜치에 새롭게 변경된 내용을 해당 브랜치로 반영 후, 해당 브랜치 작업이 완료되었을 때 다시 메인 브랜치로 머지할 수 있음
    1. A브랜치에서 기능 개발 도중 기존 소스코드의 버그로 개발 진행이 중단
    2. 해당 버그 수정 사항이 메인 브랜치에 반영
    3. 그 내용을 A브랜치의 기능 개발 전 커밋 사이에 끼워넣기
        1. git rebase 타겟 브랜치 명령어
- Squash and Merge
    - 기능 개발을 위해 생성한 브랜치에서 작업 중, 중간중간 그 때까지의 진행사항을 임시저장
    - 이 떈 커밋메시지 신경쓰지 않고 입력
    - 이런 커밋들은 그 자체로 의미 없고, 메인 브랜치에는 개별 커밋으로 반영되면 안됨
    - 머지를 수행할 때 이러한 임시 커밋을 제거하고 의미단위 커밋을 위해 모든 커밋을 하나의 커밋으로 변환, 통합하여 반영
    1. 별도 생성한 브랜치에서 발생한 커밋을 하나로 묶어 별도의 커밋 생성. 합쳐지기 이전 커밋들은 로그에서 확인되지 않음.
    2. 메인 브랜치 이동 후 git merge - -squash <소스 브랜치>
    3. 이러면 joint 커밋이 아닌 완전 별도의 커밋이 생성됨


# ■ 10주차 (11월 16일)

- Rebase와 Squash에 대해 복습
    - Rebase : Test 브랜치에서 **git rebase main**
    - Squash : Test 브랜치에서 **git mergh - -squash test**
- 제작한 브랜치를 원격에도 적용하고싶다면 푸시해야함
- 다른 협업자가 메인 브랜치에 새로운 커밋 푸시를 올려도, 다른 사용자들의 로컬 main 브랜치가 변경된 것은 아님.

- 원격 리포지토리의 마지막 커밋을 가리키고 있는 main
- 그 리포지토리를 클론해오면 로컬 리포지토리는 마지막 커밋을 가리키고 있는 origin/main
- 누군가 협업자가 원격 리포지토리의 main에 새로운 커밋을 push
- 그러나, 다른 사용자들의 로컬 리포지토리엔 변함이 없음.
- 그 원격 리포지토리의 변경사항을 가져오려면 **git fetch**
    - 단, 이럴 경우 로컬의 main은 지난 커밋을 가리키고 있고, origin/main이 가장 최신 커밋을 가리키고 있음
- git merge 명령어로 로컬의 main 또한 최신 커밋을 가리키게 됨

- git branch -D 브랜치명 : **로컬** 리포지토리의 브랜치 삭제
- git push origin - -delete 브랜치명 : **원격** 리포지토리의 브랜치 삭제

- git bush -u origin main : 브랜치 단위로 로컬 리포지토리를 원격 리포지토리로 동기화

### 협업자가 이미 과거 커밋이 된 main에 커밋을 할 때 생기는 문제

- **해결방안 1**
1. 우선 협업자가 fetch로 새로운 커밋을 불러옴
2. 물론, 기존에 개발한게 있어서 병합을 해야 함
3. 새로 불러온 origin/main과 자신이 개발한 사항을 머지한 새로운 커밋 생성
4. 해당 커밋을 푸쉬
- **해결방안 2**
1. 우선 협업자가 fetch로 새로운 커밋을 불러옴
2. 새로운 origin/main을 새로운 베이스로 rebase
3. 커밋 후 푸시


# ■ 11주차 (11월 23일)

## Pull Request

- 새 브런치에서 개발 후 main 브랜치에 PR을 올릴 수 있음.
- PR을 올리는 과정에서 리뷰어를 추가할 수 있다.
- 타이틀과 설명을 채우고 Create Pull Request 버튼을 누르면 PR 생성.
- PR을 생성하고 나면 모든 커밋 이력들이 나타나고, 클릭을 하면 변경사항들이 보임.
- 리포지토리 소유자는 해당 PR을 보고 여러가지 작업을 할 수 있음.
    - 해당 PR을 머지할 수 있다.
    - 해당 PR을 스쿼시하고 머지할 수 있다.
    - 해당 PR을 리베이스하고 머지할 수 있다.
    - 코멘트를 달 수 있다.
    - 부적합하다고 생각하면 PR을 닫을 수 있다.
- 만약 PR이 닫히면 모든 내역은 로그로 남게 되며, 해당 작업을 선택하여 Reopen을 요청할 수 있음.
    - 브랜치를 삭제했다면 오픈을 할 수 없음
- New Pull request 버튼을 눌러서, 반영할 브랜치 ← 개발한 브랜치를 선택하면 새로운 PR을 생성할 수 있음.

### 로컬 브랜치와 원격 브랜치 동기화

- 로컬 브랜치 생성한 것을 원격 브랜치에 동기화
    - git push origin 생성한 브랜치명
- 로컬 브랜치 삭제한 것을 원격 브랜치에 동기화
    - git branch -D 삭제할 브랜치명
    - git push origin
- 원격 브랜치 삭제한 것을 로컬 브랜치에 동기화
    - git fetch —prune

## ChatGPT 활용

- 개발을 할 때 GPT를 활용하여 코드를 수정하거나 코드리뷰를 할 수 있음
- 코드리뷰
    - 코드의 품질을 개선하고, 학습 및 협업을 촉진하는 데 도움을 주는 개발의 필수 과정
    - GPT를 통해 코드를 입력하거나, 유료로 코드를 업로드할 수 있음
        - 코드 리뷰 요청, 사용 목적 확인, 알고리즘 설명, line by line 설명, 주석
        - 가독성 평가, 모듈화 평가, 예시를 통해 점수 측정
        - 발생가능성이 있는 버그, 개선 로직, 변수가 잘못된 타입이면 예외 처리
        - 코드 최적화, 성능 향상 방법, 코드의 기능이 라이브러리로 존재하는지
        - 코드 보안 검토, 이슈 확인, 보안 향상
        - 질문 및 토론, 다른 접근 방식 검토, 예외상황이나 다른 함수 처리 방식
    - 리스트 컴프리헨션같은 경우엔 효율적인 방법으로 정의되어 있어 가독성은 좋지 않지만 GPT가 수정해주지 않음.
    - 따라서 컴프리헨션을 삭제하고 if문으로 만들어달라는 등의 세부적인 요쳥을 필요로 함